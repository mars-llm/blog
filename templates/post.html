{% extends "_base.html" %}
{% set title = post.title %}
{% set description = post.excerpt %}
{% set canonical_url = post.url %}
{% set og_image = post.hero if post.hero else theme.images.social if theme.images.social else theme.images.hero %}

{% block og_type %}article{% endblock %}
{% block schema_type %}Article{% endblock %}

{% block schema_extra %}
,"headline": "{{ post.title }}",
"datePublished": "{{ post.date.isoformat() }}",
"dateModified": "{{ post.date.isoformat() }}",
"mainEntityOfPage": {
  "@type": "WebPage",
  "@id": "https://mars-llm.github.io{{ url(post.url) }}"
},
"image": "https://mars-llm.github.io{{ url('/' + (post.hero if post.hero else theme.images.social if theme.images.social else theme.images.hero)) }}",
"keywords": "{{ post.tags | join(', ') }}"
{% endblock %}

{% block content %}
  <article class="post">
    <div class="post-head">
      <h1 class="h1">{{ post.title }}</h1>
      <div class="meta">Level {{ post.level }} · {{ post.date.strftime('%Y-%m-%d') }} · {{ post.category }}{% if post.tags %} · Tags: {{ post.tags | join(', ') }}{% endif %}</div>
    </div>

    {% if post.hero %}
      <div class="post-hero" style="background-image: url('{{ url(post.hero) }}');"></div>
    {% endif %}

    <div class="prose">
      {{ post.html | safe }}
    </div>

    <div class="spacer"></div>

    <div class="post-nav">
      <a class="btn ghost" href="{{ url('/archive/') }}">Back to Archive</a>
    </div>
  </article>
{% endblock %}
